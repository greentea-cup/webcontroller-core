plugins {
	id 'java'
	id 'maven-publish'
}

group maven_group
version version

sourceCompatibility = targetCompatibility = JavaVersion.VERSION_11

repositories {
	mavenCentral()
}

dependencies {
	compileOnly group: 'org.apache.logging.log4j', name: 'log4j-api', version: log4j_version
}

java {
	withJavadocJar()
	withSourcesJar()
}

publishing {
	publications {
		maven(MavenPublication) {
			artifact(jar)
			artifact(javadocJar)
			artifact(sourcesJar)
			groupId = maven_group
			artifactId = archives_base_name
			version = version
		}
	}
	repositories {
		maven {
		url = uri("https://maven.pkg.github.com/greentea-cup/webcontroller-core")
			credentials {
				username = "greentea-cup"
				password = System.getenv("GITHUB_TOKEN")
			}
		}
	}
}